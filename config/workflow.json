{
    "logging": {
        "level": "DEBUG",
        "log_file": "<module.name>",
        "output": "file, console",
        "log_base": "qlib-",
        "max_size": "1024*1024*10",
        "max_index": 9
    },
    "data": {
        "csv_data_dir": "data/klines",
        "normalize_dir": "data/normalize",
        "bin_data_dir": "data/qlib_data/crypto",
        "market_type": "future",
        "symbols": "config/eth_only.json"
    },
    "data_service": {
        "enabled": true,
        "update_interval_minutes": 1,
        "symbols": "<data.symbols>",
        "base_interval": "<data_collection.interval>",
        "target_timeframes": [
            "15min",
            "60min",
            "240min"
        ],
        "enable_funding_rate": "auto",
        "funding_rate_native_interval": "8h",
        "funding_collection_times": [
            "00:05",
            "08:05",
            "16:05"
        ],
        "funding_collection_window_start": 5,
        "funding_collection_window_end": 10,
        "enable_validation": true,
        "enable_auto_convert": true,
        "max_retries": 3,
        "retry_delay_seconds": 60,
        "pid_file": "data/data_service.pid",
        "status_file": "data/service_status.json"
    },
    "data_collection": {
        "interval": "1m",
        "api_timeout": 10,
        "start_time": "2020-01-01",
        "end_time": "",
        "limit": 1000,
        "overlap_minutes": 5,
        "enable_incremental": true,
        "integrity_mode": "renew",
        "enable_resume": true,
        "collection_state_dir": "data/collection_state",
        "max_renew_attempts": 1,
        "enable_gap_backfill": true,
        "output": "csv",
        "max_gap_backfill_days": 30,
        "enable_long_backfill": true,
        "backfill_chunk_days": 90,
        "backfill_state_dir": "data/backfill_state",
        "backfill_snapshot_dir": "data/backfill_snapshots",
        "enable_backfill_snapshot": false
    },
    "database": {
        "host": "localhost",
        "database": "qlib_crypto",
        "user": "crypto_user",
        "password": "crypto",
        "port": 5432,
        "use_db": true
    },
    "data_convertor": {
        "provider_uri": "<data.bin_data_dir>",
        "date_field_name": "timestamp",
        "include_fields": [
            "open",
            "high",
            "low",
            "close",
            "volume",
            "vwap"
        ],
        "instruments_file": "<data.symbols>",
        "data_source": "csv"
    },
    "workflow": {
        "start_time": "2024-01-01",
        "end_time": "2026-02-12",
        "frequency": "15min",
        "instruments_limit": 50
    },
    "backtest": {
        "start_time": "<workflow.start_time>",
        "end_time": "<workflow.end_time>",
        "account": 1000000,
        "benchmark": null,
        "exchange_kwargs": {
            "freq": "<workflow.frequency>",
            "limit_threshold": null,
            "deal_price": "close",
            "open_cost": 0.001,
            "close_cost": 0.001,
            "min_cost": 0.001,
            "trade_unit": null
        }
    },
    "model": {
        "type": "GBDT",
        "learning_rate": 0.1,
        "num_boost_round": 100
    },
    "model_config_full": {
        "class": "LGBModel",
        "module_path": "qlib.contrib.model.gbdt",
        "kwargs": {
            "loss": "mse",
            "colsample_bytree": 0.8879,
            "learning_rate": 0.1,
            "subsample": 0.8789,
            "lambda_l1": 205.6999,
            "lambda_l2": 580.9768,
            "max_depth": 8,
            "num_leaves": 210,
            "num_threads": 20,
            "num_boost_round": 100
        }
    },
    "data_handler_config": {
        "class": "Alpha158",
        "module_path": "qlib.contrib.data.handler",
        "kwargs": {
            "start_time": "<workflow.start_time>",
            "end_time": "<workflow.end_time>",
            "instruments": "<data.symbols>",
            "freq": "<workflow.frequency>",
            "fit_start_time": "<workflow.start_time>",
            "fit_end_time": "2025-12-31",
            "infer_processors": [],
            "learn_processors": [
                {
                    "class": "DropnaLabel"
                },
                {
                    "class": "RobustZScoreNorm",
                    "kwargs": {
                        "fields_group": "label"
                    }
                }
            ]
        }
    },
    "training": {
        "model_type": "lightgbm",
        "feature_handler": "<data_handler_config.class>",
        "device": "auto",
        "seed": 42,
        "rolling_window": {
            "fold_ratio": [
                6,
                1,
                2
            ],
            "step_months": 3,
            "n_folds": 3
        },
        "tuning_ranges": {
            "lightgbm": {
                "learning_rate": {
                    "min": 0.01,
                    "max": 0.2,
                    "log": true
                },
                "num_leaves": {
                    "min": 16,
                    "max": 255
                },
                "lambda_l2": {
                    "min": 0.0001,
                    "max": 10.0,
                    "log": true
                },
                "max_depth": {
                    "min": 3,
                    "max": 12
                }
            },
            "xgboost": {
                "learning_rate": {
                    "min": 0.01,
                    "max": 0.3,
                    "log": true
                },
                "max_depth": {
                    "min": 3,
                    "max": 10
                },
                "n_estimators": {
                    "min": 100,
                    "max": 1000
                }
            },
            "lstm": {
                "hidden_size": {
                    "min": 32,
                    "max": 128,
                    "step": 16
                },
                "num_layers": {
                    "min": 1,
                    "max": 4
                },
                "dropout": {
                    "min": 0.0,
                    "max": 0.5
                },
                "lr": {
                    "min": 0.0001,
                    "max": 0.01,
                    "log": true
                },
                "batch_size": {
                    "min": 256,
                    "max": 2048,
                    "step": 256
                }
            },
            "alstm": {
                "hidden_size": {
                    "min": 32,
                    "max": 128,
                    "step": 16
                },
                "num_layers": {
                    "min": 1,
                    "max": 4
                },
                "dropout": {
                    "min": 0.0,
                    "max": 0.5
                },
                "lr": {
                    "min": 0.0001,
                    "max": 0.01,
                    "log": true
                },
                "batch_size": {
                    "min": 256,
                    "max": 2048,
                    "step": 256
                }
            }
        },
        "models": {
            "lightgbm": {
                "loss": "mse",
                "colsample_bytree": 0.8879,
                "learning_rate": 0.014546161147000865,
                "subsample": 0.8789,
                "lambda_l1": 0.01,
                "lambda_l2": 8.581029601125486,
                "max_depth": 12,
                "num_leaves": 96,
                "num_threads": 20
            },
            "xgboost": {
                "booster": "gbtree",
                "learning_rate": 0.01,
                "max_depth": 6,
                "n_estimators": 500,
                "objective": "reg:squarederror"
            },
            "lstm": {
                "d_feat": 158,
                "hidden_size": 64,
                "num_layers": 2,
                "dropout": 0.2,
                "n_epochs": 100,
                "lr": 0.001,
                "batch_size": 512,
                "early_stop": 20,
                "loss": "mse",
                "optimizer": "adam"
            },
            "alstm": {
                "d_feat": 158,
                "hidden_size": 32,
                "num_layers": 2,
                "dropout": 0.44304854580666014,
                "n_epochs": 100,
                "lr": 0.0016462719266471676,
                "batch_size": 512,
                "early_stop": 20,
                "loss": "mse",
                "optimizer": "adam",
                "rnn_type": "LSTM"
            }
        }
    },
    "strategy": {
        "class": "CryptoLongShortStrategy",
        "module_path": "qlib.contrib.strategy.crypto_strategy",
        "direction": "long-short",
        "leverage": 1.0,
        "take_profit": 0.2727057088803897,
        "stop_loss": -0.05078613412431277,
        "signal_threshold": 0.0,
        "min_sigma_threshold": 1.0
    },
    "dataset": {
        "class": "DatasetH",
        "module_path": "qlib.data.dataset",
        "kwargs": {
            "handler": "<data_handler_config>",
            "segments": {
                "train": 7,
                "valid": 2,
                "test": 1
            }
        },
        "dataset_validation": {
            "minimum_samples": 1000,
            "warning_samples": 5000
        }
    },
    "port_analysis": {
        "executor": {
            "class": "SimulatorExecutor",
            "module_path": "qlib.backtest.executor",
            "kwargs": {
                "time_per_step": "<workflow.frequency>",
                "generate_portfolio_metrics": true
            }
        },
        "strategy": {
            "class": "CryptoLongShortStrategy",
            "module_path": "qlib.contrib.strategy",
            "kwargs": {
                "direction": "long-short",
                "signal_threshold": 0.005,
                "leverage": 2.0,
                "take_profit": 0.08,
                "stop_loss": -0.04,
                "max_drawdown_limit": 0.2,
                "topk": 1
            }
        },
        "backtest": {
            "start_time": "<backtest.start_time>",
            "end_time": "<backtest.end_time>",
            "account": "<backtest.account>",
            "benchmark": null,
            "exchange_kwargs": "<backtest.exchange_kwargs>"
        }
    },
    "per_symbol_models": {
        "ETH_USDT_4H_FUTURE": {
            "model_type": "lightgbm",
            "model_params": {
                "learning_rate": 0.0478428112275472,
                "num_leaves": 20,
                "lambda_l2": 9.644762983505155,
                "max_depth": 9
            },
            "trading": {
                "leverage": 2,
                "signal_threshold": 3.831250108791326e-05,
                "stop_loss": -0.024800292670889665,
                "take_profit": 0.16596496376689146,
                "min_sigma_threshold": 0.4703485686026834
            },
            "backtest_topk": 3
        },
        "ETHUSDT": {
            "model_type": "lightgbm",
            "model_params": {
                "learning_rate": 0.08861779332050806,
                "num_leaves": 35,
                "lambda_l2": 0.004913990311921469,
                "max_depth": 11
            },
            "trading": {
                "leverage": 3,
                "signal_threshold": 0.00015469069978070563,
                "stop_loss": -0.03845367910386872,
                "take_profit": 0.06510879873958267,
                "min_sigma_threshold": 0.35870912638779123
            },
            "backtest_topk": 3
        }
    }
}