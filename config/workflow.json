{
  "logging": {
    "level": "DEBUG",
    "log_file": "<module.name>",
    "output": "file, console",
    "log_base": "qlib-",
    "max_index": 9
  },
  "data": {
    "csv_data_dir": "data/klines",
    "normalize_dir": "data/normalize",
    "bin_data_dir": "data/qlib_data/crypto",
    "market_type": "future",
    "symbols": "config/instruments.json"
  },
  "data_collection": {
    "interval": "4h",
    "api_timeout": 10,
    "start_time": "2020-01-01",
    "end_time": "",
    "limit": 1000,
    "overlap_minutes": 5,
    "enable_incremental": true,
    "output": "db"
  },
  "database": {
    "host": "localhost",
    "database": "qlib_crypto",
    "user": "crypto_user",
    "password": "crypto",
    "port": 5432,
    "use_db": true
  },
  "data_convertor": {
    "date_field_name": "timestamp",
    "include_fields": [
      "open",
      "high",
      "low",
      "close",
      "volume",
      "vwap"
    ],
    "instruments_file": "instruments.txt",
    "data_source": "db"
  },
  "workflow": {
    "start_time": "2023-01-01",
    "end_time": "",
    "frequency": "240min",
    "instruments_limit": 50
  },
  "backtest": {
    "start_time": "<workflow.start_time>",
    "end_time": "<workflow.end_time>",
    "account": 1000000,
    "benchmark": null,
    "exchange_kwargs": {
      "freq": "<workflow.frequency>",
      "limit_threshold": null,
      "deal_price": "close",
      "open_cost": 0.001,
      "close_cost": 0.001,
      "min_cost": 0.001,
      "trade_unit": null
    }
  },
  "model": {
    "type": "GBDT",
    "learning_rate": 0.1,
    "num_boost_round": 100
  },
  "model_config_full": {
    "class": "LGBModel",
    "module_path": "qlib.contrib.model.gbdt",
    "kwargs": {
      "loss": "mse",
      "colsample_bytree": 0.8879,
      "learning_rate": 0.1,
      "subsample": 0.8789,
      "lambda_l1": 205.6999,
      "lambda_l2": 580.9768,
      "max_depth": 8,
      "num_leaves": 210,
      "num_threads": 20,
      "num_boost_round": 100
    }
  },
  "data_handler_config": {
    "class": "CryptoAlpha158WithFunding",
    "module_path": "qlib.contrib.data.handler_crypto",
    "kwargs": {
      "start_time": "<workflow.start_time>",
      "end_time": "2026-01-01",
      "instruments": "<data.symbols>",
      "freq": "<workflow.frequency>",
      "fit_start_time": "<workflow.start_time>",
      "fit_end_time": "2023-12-31",
      "infer_processors": [],
      "learn_processors": []
    }
  },
  "training": {
    "start_time": "2023-01-01",
    "end_time": "2025-12-31",
    "model_type": "lightgbm",
    "feature_handler": "<data_handler_config.class>",
    "device": "auto",
    "seed": 42,
    "rolling_window": {
      "fold_ratio": [
        6,
        1,
        2
      ],
      "step_months": 3,
      "n_folds": 3
    },
    "models": {
      "lightgbm": {
        "loss": "mse",
        "colsample_bytree": 0.8879,
        "learning_rate": 0.01,
        "subsample": 0.8789,
        "lambda_l1": 0.01,
        "lambda_l2": 0.001,
        "max_depth": 6,
        "num_leaves": 70,
        "num_threads": 20
      },
      "xgboost": {
        "booster": "gbtree",
        "learning_rate": 0.01,
        "max_depth": 6,
        "n_estimators": 500,
        "objective": "reg:squarederror"
      },
      "lstm": {
        "d_feat": 158,
        "hidden_size": 64,
        "num_layers": 2,
        "dropout": 0.2,
        "n_epochs": 100,
        "lr": 0.001,
        "batch_size": 512,
        "early_stop": 20,
        "loss": "mse",
        "optimizer": "adam"
      },
      "alstm": {
        "d_feat": 158,
        "hidden_size": 32,
        "num_layers": 2,
        "dropout": 0.44304854580666014,
        "n_epochs": 100,
        "lr": 0.0016462719266471676,
        "batch_size": 512,
        "early_stop": 20,
        "loss": "mse",
        "optimizer": "adam",
        "rnn_type": "LSTM"
      }
    }
  },
  "strategy": {
    "class": "CryptoLongShortStrategy",
    "module_path": "qlib.contrib.strategy.crypto_strategy",
    "direction": "long-short",
    "leverage": 1.0,
    "take_profit": 0.2727057088803897,
    "stop_loss": -0.05078613412431277,
    "signal_threshold": 0.0,
    "min_sigma_threshold": 1.0
  },
  "dataset": {
    "class": "DatasetH",
    "module_path": "qlib.data.dataset",
    "kwargs": {
      "handler": "<data_handler_config>",
      "segments": {
        "train": 7,
        "valid": 2,
        "test": 1
      }
    },
    "dataset_validation": {
      "minimum_samples": 1000,
      "warning_samples": 5000
    }
  },
  "port_analysis": {
    "executor": {
      "class": "SimulatorExecutor",
      "module_path": "qlib.backtest.executor",
      "kwargs": {
        "time_per_step": "<workflow.frequency>",
        "generate_portfolio_metrics": true
      }
    },
    "strategy": {
      "class": "CryptoLongShortStrategy",
      "module_path": "qlib.contrib.strategy",
      "kwargs": {
        "direction": "long-short",
        "signal_threshold": 0.005,
        "leverage": 2.0,
        "take_profit": 0.08,
        "stop_loss": -0.04,
        "max_drawdown_limit": 0.2,
        "topk": 1
      }
    },
    "backtest": {
      "start_time": "<backtest.start_time>",
      "end_time": "<backtest.end_time>",
      "account": "<backtest.account>",
      "benchmark": null,
      "exchange_kwargs": "<backtest.exchange_kwargs>"
    }
  },
  "per_symbol_models": {
    "ETH_USDT_4H_FUTURE": {
      "model_type": "lightgbm",
      "model_params": {
        "learning_rate": 0.0478428112275472,
        "num_leaves": 20,
        "lambda_l2": 9.644762983505155,
        "max_depth": 9
      },
      "trading": {
        "leverage": 2,
        "signal_threshold": 3.831250108791326e-05,
        "stop_loss": -0.024800292670889665,
        "take_profit": 0.16596496376689146,
        "min_sigma_threshold": 0.4703485686026834
      },
      "backtest_topk": 3
    }
  }
}